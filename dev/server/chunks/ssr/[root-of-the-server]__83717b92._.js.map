{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/phuonghuupham/Documents/GitHub/Pathfinity/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n// Password validation types and utilities\nexport interface PasswordRequirement {\n  id: string;\n  label: string;\n  test: (password: string) => boolean;\n}\n\nexport const passwordRequirements: PasswordRequirement[] = [\n  {\n    id: 'length',\n    label: 'Between 8-12 characters',\n    test: (password: string) => password.length >= 8 && password.length <= 12,\n  },\n  {\n    id: 'uppercase',\n    label: 'At least one uppercase letter (A-Z)',\n    test: (password: string) => /[A-Z]/.test(password),\n  },\n  {\n    id: 'number',\n    label: 'At least one number (0-9)',\n    test: (password: string) => /[0-9]/.test(password),\n  },\n  {\n    id: 'special',\n    label: 'At least one special character (!@#$%^&*()-_=+)',\n    test: (password: string) => /[!@#$%^&*()\\-_=+]/.test(password),\n  },\n  {\n    id: 'noSpaces',\n    label: 'No spaces allowed',\n    test: (password: string) => !/\\s/.test(password),\n  },\n];\n\nexport function validatePassword(password: string): {\n  isValid: boolean;\n  failedRequirements: PasswordRequirement[];\n  passedRequirements: PasswordRequirement[];\n} {\n  const failedRequirements = passwordRequirements.filter(req => !req.test(password));\n  const passedRequirements = passwordRequirements.filter(req => req.test(password));\n  \n  return {\n    isValid: failedRequirements.length === 0,\n    failedRequirements,\n    passedRequirements,\n  };\n}\n\nexport function getPasswordStrengthMessage(password: string): string {\n  const validation = validatePassword(password);\n  \n  if (validation.isValid) {\n    // return 'Password meets all requirements';\n    return '';\n  }\n  \n  if (validation.failedRequirements.length === passwordRequirements.length) {\n    // return 'Password does not meet any requirements';\n    return '';\n  }\n  \n  return `Password missing: ${validation.failedRequirements.map(req => req.label.toLowerCase()).join(', ')}`;\n}\n\n// Email verification utilities\nexport function generateVerificationCode(): string {\n  return Math.floor(100000 + Math.random() * 900000).toString();\n}\n\nexport async function sendVerificationEmail(email: string, code: string): Promise<boolean> {\n  try {\n    console.log('üîç Attempting to send email...');\n    console.log('Email:', email);\n    console.log('Code:', code);\n    console.log('API Key exists:', !!process.env.RESEND_API_KEY);\n    console.log('API Key starts with re_:', process.env.RESEND_API_KEY?.startsWith('re_'));\n    \n    // Check if we have a Resend API key\n    if (process.env.RESEND_API_KEY && process.env.RESEND_API_KEY !== 'your_resend_api_key_here') {\n      console.log('üöÄ Using Resend to send email...');\n      \n      try {\n        // Use Resend for actual email sending\n        const { Resend } = await import('resend');\n        const resend = new Resend(process.env.RESEND_API_KEY);\n        \n        // List of verified emails that can receive test emails\n        const verifiedTestEmails = ['phuong9@hawaii.edu'];\n        const isTestEmail = verifiedTestEmails.includes(email);\n        \n        if (!isTestEmail) {\n          console.log('‚ö†Ô∏è  Email not in verified test list. Using development mode for:', email);\n          console.log('üìß To send real emails, verify a domain at https://resend.com/domains');\n          console.log('‚úÖ Verified test emails:', verifiedTestEmails.join(', '));\n          \n          // Use development mode for non-verified emails\n          console.log(`\\n=== EMAIL VERIFICATION (DEV MODE) ===`);\n          console.log(`To: ${email}`);\n          console.log(`Verification Code: ${code}`);\n          console.log(`‚ö†Ô∏è  Using dev mode - add ${email} to verified list or verify domain`);\n          console.log(`=====================================\\n`);\n          return true;\n        }\n        \n        console.log('üìß Sending email via Resend to verified email...');\n        const result = await resend.emails.send({\n          from: 'Pathfinity <delivered@resend.dev>', // Use Resend's verified test domain\n          to: email,\n          subject: 'Verify your email address - Pathfinity',\n          html: `\n            <div style=\"font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;\">\n              <h2 style=\"color: #2563eb; margin-bottom: 20px;\">Verify your email address</h2>\n              <p style=\"margin-bottom: 20px;\">Thank you for signing up for Pathfinity! Please use the verification code below to complete your registration:</p>\n              \n              <div style=\"background: #f3f4f6; padding: 20px; border-radius: 8px; text-align: center; margin: 20px 0;\">\n                <h1 style=\"color: #2563eb; font-size: 32px; letter-spacing: 4px; margin: 0;\">${code}</h1>\n              </div>\n              \n              <p style=\"margin-bottom: 20px;\">This code will expire in 15 minutes for security reasons.</p>\n              <p style=\"color: #6b7280; font-size: 14px;\">If you didn't request this verification, please ignore this email.</p>\n              \n              <hr style=\"margin: 30px 0; border: none; border-top: 1px solid #e5e7eb;\">\n              <p style=\"color: #6b7280; font-size: 12px; margin: 0;\">\n                This email was sent by Pathfinity. If you have any questions, please contact our support team.\n              </p>\n            </div>\n          `,\n        });\n\n        console.log('üì¨ Resend result:', result);\n\n        if (result.error) {\n          console.error('‚ùå Resend error:', result.error);\n          \n          // Check if it's a domain verification issue\n          if (result.error.message && result.error.message.includes('testing emails')) {\n            console.log('‚ö†Ô∏è  Resend API is in test mode - emails can only be sent to verified addresses');\n            console.log('üìß For testing, try using: phuong9@hawaii.edu');\n            console.log('üîß To send to any email, verify a domain at https://resend.com/domains');\n          }\n          \n          // Fallback to dev mode if Resend fails\n          console.log('üîÑ Falling back to development mode...');\n          console.log(`\\n=== EMAIL VERIFICATION (FALLBACK MODE) ===`);\n          console.log(`To: ${email}`);\n          console.log(`Verification Code: ${code}`);\n          console.log(`‚ö†Ô∏è  Resend API failed, using dev mode fallback`);\n          console.log(`=====================================\\n`);\n          return true;\n        }\n\n        console.log(`‚úÖ Verification email sent successfully to ${email} via Resend`);\n        console.log('Email ID:', result.data?.id);\n        return true;\n      } catch (resendError) {\n        console.error('‚ùå Resend API error:', resendError);\n        // Fallback to dev mode if Resend fails\n        console.log('üîÑ Falling back to development mode...');\n        console.log(`\\n=== EMAIL VERIFICATION (FALLBACK MODE) ===`);\n        console.log(`To: ${email}`);\n        console.log(`Verification Code: ${code}`);\n        console.log(`‚ö†Ô∏è  Resend API failed, using dev mode fallback`);\n        console.log(`=====================================\\n`);\n        return true;\n      }\n    } else {\n      // Fallback to console logging for development\n      console.log(`\\n=== EMAIL VERIFICATION (DEV MODE) ===`);\n      console.log(`To: ${email}`);\n      console.log(`Verification Code: ${code}`);\n      console.log(`‚ö†Ô∏è  To send real emails, add your RESEND_API_KEY to .env.local`);\n      console.log(`=====================================\\n`);\n      \n      return true; // For development\n    }\n  } catch (error) {\n    console.error('üí• Error sending verification email:', error);\n    console.error('Error details:', error);\n    // Still return true for development/testing\n    console.log('üîÑ Using dev mode fallback due to error...');\n    console.log(`\\n=== EMAIL VERIFICATION (ERROR FALLBACK) ===`);\n    console.log(`To: ${email}`);\n    console.log(`Verification Code: ${code}`);\n    console.log(`‚ö†Ô∏è  Error occurred, using dev mode fallback`);\n    console.log(`=====================================\\n`);\n    return true;\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB;AASO,MAAM,uBAA8C;IACzD;QACE,IAAI;QACJ,OAAO;QACP,MAAM,CAAC,WAAqB,SAAS,MAAM,IAAI,KAAK,SAAS,MAAM,IAAI;IACzE;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM,CAAC,WAAqB,QAAQ,IAAI,CAAC;IAC3C;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM,CAAC,WAAqB,QAAQ,IAAI,CAAC;IAC3C;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM,CAAC,WAAqB,oBAAoB,IAAI,CAAC;IACvD;IACA;QACE,IAAI;QACJ,OAAO;QACP,MAAM,CAAC,WAAqB,CAAC,KAAK,IAAI,CAAC;IACzC;CACD;AAEM,SAAS,iBAAiB,QAAgB;IAK/C,MAAM,qBAAqB,qBAAqB,MAAM,CAAC,CAAA,MAAO,CAAC,IAAI,IAAI,CAAC;IACxE,MAAM,qBAAqB,qBAAqB,MAAM,CAAC,CAAA,MAAO,IAAI,IAAI,CAAC;IAEvE,OAAO;QACL,SAAS,mBAAmB,MAAM,KAAK;QACvC;QACA;IACF;AACF;AAEO,SAAS,2BAA2B,QAAgB;IACzD,MAAM,aAAa,iBAAiB;IAEpC,IAAI,WAAW,OAAO,EAAE;QACtB,4CAA4C;QAC5C,OAAO;IACT;IAEA,IAAI,WAAW,kBAAkB,CAAC,MAAM,KAAK,qBAAqB,MAAM,EAAE;QACxE,oDAAoD;QACpD,OAAO;IACT;IAEA,OAAO,CAAC,kBAAkB,EAAE,WAAW,kBAAkB,CAAC,GAAG,CAAC,CAAA,MAAO,IAAI,KAAK,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO;AAC5G;AAGO,SAAS;IACd,OAAO,KAAK,KAAK,CAAC,SAAS,KAAK,MAAM,KAAK,QAAQ,QAAQ;AAC7D;AAEO,eAAe,sBAAsB,KAAa,EAAE,IAAY;IACrE,IAAI;QACF,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,UAAU;QACtB,QAAQ,GAAG,CAAC,SAAS;QACrB,QAAQ,GAAG,CAAC,mBAAmB,CAAC,CAAC,QAAQ,GAAG,CAAC,cAAc;QAC3D,QAAQ,GAAG,CAAC,4BAA4B,QAAQ,GAAG,CAAC,cAAc,EAAE,WAAW;QAE/E,oCAAoC;QACpC,IAAI,QAAQ,GAAG,CAAC,cAAc,IAAI,QAAQ,GAAG,CAAC,cAAc,KAAK,4BAA4B;YAC3F,QAAQ,GAAG,CAAC;YAEZ,IAAI;gBACF,sCAAsC;gBACtC,MAAM,EAAE,MAAM,EAAE,GAAG;gBACnB,MAAM,SAAS,IAAI,OAAO,QAAQ,GAAG,CAAC,cAAc;gBAEpD,uDAAuD;gBACvD,MAAM,qBAAqB;oBAAC;iBAAqB;gBACjD,MAAM,cAAc,mBAAmB,QAAQ,CAAC;gBAEhD,IAAI,CAAC,aAAa;oBAChB,QAAQ,GAAG,CAAC,oEAAoE;oBAChF,QAAQ,GAAG,CAAC;oBACZ,QAAQ,GAAG,CAAC,2BAA2B,mBAAmB,IAAI,CAAC;oBAE/D,+CAA+C;oBAC/C,QAAQ,GAAG,CAAC,CAAC,uCAAuC,CAAC;oBACrD,QAAQ,GAAG,CAAC,CAAC,IAAI,EAAE,OAAO;oBAC1B,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,MAAM;oBACxC,QAAQ,GAAG,CAAC,CAAC,yBAAyB,EAAE,MAAM,kCAAkC,CAAC;oBACjF,QAAQ,GAAG,CAAC,CAAC,uCAAuC,CAAC;oBACrD,OAAO;gBACT;gBAEA,QAAQ,GAAG,CAAC;gBACZ,MAAM,SAAS,MAAM,OAAO,MAAM,CAAC,IAAI,CAAC;oBACtC,MAAM;oBACN,IAAI;oBACJ,SAAS;oBACT,MAAM,CAAC;;;;;;6FAM4E,EAAE,KAAK;;;;;;;;;;;UAW1F,CAAC;gBACH;gBAEA,QAAQ,GAAG,CAAC,qBAAqB;gBAEjC,IAAI,OAAO,KAAK,EAAE;oBAChB,QAAQ,KAAK,CAAC,mBAAmB,OAAO,KAAK;oBAE7C,4CAA4C;oBAC5C,IAAI,OAAO,KAAK,CAAC,OAAO,IAAI,OAAO,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,mBAAmB;wBAC3E,QAAQ,GAAG,CAAC;wBACZ,QAAQ,GAAG,CAAC;wBACZ,QAAQ,GAAG,CAAC;oBACd;oBAEA,uCAAuC;oBACvC,QAAQ,GAAG,CAAC;oBACZ,QAAQ,GAAG,CAAC,CAAC,4CAA4C,CAAC;oBAC1D,QAAQ,GAAG,CAAC,CAAC,IAAI,EAAE,OAAO;oBAC1B,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,MAAM;oBACxC,QAAQ,GAAG,CAAC,CAAC,8CAA8C,CAAC;oBAC5D,QAAQ,GAAG,CAAC,CAAC,uCAAuC,CAAC;oBACrD,OAAO;gBACT;gBAEA,QAAQ,GAAG,CAAC,CAAC,0CAA0C,EAAE,MAAM,WAAW,CAAC;gBAC3E,QAAQ,GAAG,CAAC,aAAa,OAAO,IAAI,EAAE;gBACtC,OAAO;YACT,EAAE,OAAO,aAAa;gBACpB,QAAQ,KAAK,CAAC,uBAAuB;gBACrC,uCAAuC;gBACvC,QAAQ,GAAG,CAAC;gBACZ,QAAQ,GAAG,CAAC,CAAC,4CAA4C,CAAC;gBAC1D,QAAQ,GAAG,CAAC,CAAC,IAAI,EAAE,OAAO;gBAC1B,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,MAAM;gBACxC,QAAQ,GAAG,CAAC,CAAC,8CAA8C,CAAC;gBAC5D,QAAQ,GAAG,CAAC,CAAC,uCAAuC,CAAC;gBACrD,OAAO;YACT;QACF,OAAO;YACL,8CAA8C;YAC9C,QAAQ,GAAG,CAAC,CAAC,uCAAuC,CAAC;YACrD,QAAQ,GAAG,CAAC,CAAC,IAAI,EAAE,OAAO;YAC1B,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,MAAM;YACxC,QAAQ,GAAG,CAAC,CAAC,8DAA8D,CAAC;YAC5E,QAAQ,GAAG,CAAC,CAAC,uCAAuC,CAAC;YAErD,OAAO,MAAM,kBAAkB;QACjC;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wCAAwC;QACtD,QAAQ,KAAK,CAAC,kBAAkB;QAChC,4CAA4C;QAC5C,QAAQ,GAAG,CAAC;QACZ,QAAQ,GAAG,CAAC,CAAC,6CAA6C,CAAC;QAC3D,QAAQ,GAAG,CAAC,CAAC,IAAI,EAAE,OAAO;QAC1B,QAAQ,GAAG,CAAC,CAAC,mBAAmB,EAAE,MAAM;QACxC,QAAQ,GAAG,CAAC,CAAC,2CAA2C,CAAC;QACzD,QAAQ,GAAG,CAAC,CAAC,uCAAuC,CAAC;QACrD,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 195, "column": 0}, "map": {"version":3,"sources":["file:///Users/phuonghuupham/Documents/GitHub/Pathfinity/app/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,wKAAI,GAAG;IAE9B,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///Users/phuonghuupham/Documents/GitHub/Pathfinity/app/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 297, "column": 0}, "map": {"version":3,"sources":["file:///Users/phuonghuupham/Documents/GitHub/Pathfinity/lib/auth-client.ts"],"sourcesContent":["import { createAuthClient } from \"better-auth/react\" // make sure to import from better-auth/react\n\nexport const authClient = createAuthClient({\n    baseURL: process.env.NEXT_PUBLIC_BETTER_AUTH_URL || \"http://localhost:3000\"\n})\n\n// Export commonly used hooks for convenience\nexport const { useSession, signIn, signOut, signUp } = authClient;"],"names":[],"mappings":";;;;;;;;;;;;AAAA,4RAAqD,6CAA6C;;AAE3F,MAAM,aAAa,IAAA,uLAAgB,EAAC;IACvC,SAAS,6DAA2C;AACxD;AAGO,MAAM,EAAE,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG","debugId":null}},
    {"offset": {"line": 319, "column": 0}, "map": {"version":3,"sources":["file:///Users/phuonghuupham/Documents/GitHub/Pathfinity/app/verify-email/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Button } from '@/app/components/ui/button';\nimport { Input } from '@/app/components/ui/input';\nimport { useRouter, useSearchParams } from 'next/navigation';\nimport { authClient } from '@/lib/auth-client';\n\nexport default function VerifyEmailPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const [code, setCode] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isResending, setIsResending] = useState(false);\n  const [resendCooldown, setResendCooldown] = useState(0);\n  const [isVerified, setIsVerified] = useState(false);\n\n  const email = searchParams.get('email') || '';\n  const name = searchParams.get('name') || '';\n  const password = searchParams.get('password') || '';\n\n  // Cooldown timer for resend button\n  useEffect(() => {\n    if (resendCooldown > 0) {\n      const timer = setTimeout(() => setResendCooldown(resendCooldown - 1), 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [resendCooldown]);\n\n  const handleVerifyCode = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError('');\n\n    try {\n      // Verify the code first\n      const verifyResponse = await fetch('/api/auth/verify-email', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email, code }),\n      });\n\n      const verifyResult = await verifyResponse.json();\n\n      if (!verifyResult.success) {\n        setError(verifyResult.error || 'Verification failed');\n        setIsLoading(false);\n        return;\n      }\n\n      // Set verified state for user feedback\n      setIsVerified(true);\n      setError('');\n\n      // Small delay to show success state\n      await new Promise(resolve => setTimeout(resolve, 1000));\n\n      // If verification successful, proceed with user creation\n      const signupResult = await authClient.signUp.email({\n        email,\n        password,\n        name,\n      });\n\n      if (!signupResult.error) {\n        // Automatically sign in the user after successful verification and signup\n        const signinResult = await authClient.signIn.email({\n          email,\n          password,\n        });\n\n        if (!signinResult.error) {\n          router.push('/Home');\n          router.refresh();\n        } else {\n          router.push('/login?verified=true');\n        }\n      } else {\n        setError(signupResult.error.message || 'Account creation failed');\n      }\n    } catch (err) {\n      console.error('Verification error:', err);\n      setError('An unexpected error occurred');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleResendCode = async () => {\n    setIsResending(true);\n    setError('');\n    setCode(''); // Clear the current code input\n\n    try {\n      const response = await fetch('/api/auth/send-verification', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ email }),\n      });\n\n      const result = await response.json();\n\n      if (result.success) {\n        setResendCooldown(60); // 60 second cooldown\n        // Show success message briefly\n        setError(''); // Clear any previous errors\n      } else {\n        setError(result.error || 'Failed to resend verification code');\n      }\n    } catch (err) {\n      console.error('Resend error:', err);\n      setError('Failed to resend verification code');\n    } finally {\n      setIsResending(false);\n    }\n  };\n\n  const formatCode = (value: string) => {\n    // Remove non-digits and limit to 6 characters\n    const digits = value.replace(/\\D/g, '').slice(0, 6);\n    return digits;\n  };\n\n  if (!email) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center p-4\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-destructive mb-4\">Invalid Verification Link</h2>\n          <p className=\"text-muted-foreground mb-4\">This verification link is invalid or has expired.</p>\n          <Button onClick={() => router.push('/login')}>\n            Back to Login\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"flex min-h-screen flex-col items-center justify-center p-4 bg-background\">\n      <div className=\"w-full max-w-md space-y-8\">\n        <div className=\"text-center\">\n          <h2 className=\"mt-6 text-3xl font-bold tracking-tight\">\n            Verify your email\n          </h2>\n          <p className=\"mt-2 text-sm text-muted-foreground\">\n            We&apos;ve sent a 6-digit verification code to\n          </p>\n          <p className=\"text-sm font-medium text-foreground\">\n            {email}\n          </p>\n        </div>\n\n        {error && (\n          <div className=\"rounded-md bg-destructive/10 p-3 text-sm text-destructive border border-destructive/20\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-base\">‚ö†Ô∏è</span>\n              <span>{error}</span>\n            </div>\n          </div>\n        )}\n\n        {isVerified && (\n          <div className=\"rounded-md bg-green-50 p-3 text-sm text-green-700 border border-green-200\">\n            <div className=\"flex items-center space-x-2\">\n              <span className=\"text-base\">‚úÖ</span>\n              <span>Email verified successfully! Creating your account...</span>\n            </div>\n          </div>\n        )}\n\n        <form onSubmit={handleVerifyCode} className=\"mt-8 space-y-6\">\n          <div>\n            <label htmlFor=\"code\" className=\"block text-sm font-medium text-foreground mb-2\">\n              Verification Code\n            </label>\n            <Input\n              id=\"code\"\n              name=\"code\"\n              type=\"text\"\n              required\n              placeholder=\"000000\"\n              value={code}\n              onChange={(e) => setCode(formatCode(e.target.value))}\n              className=\"w-full text-center text-2xl font-mono tracking-widest\"\n              maxLength={6}\n              autoComplete=\"one-time-code\"\n              autoFocus\n              disabled={isLoading || isVerified}\n            />\n            <p className=\"mt-1 text-xs text-muted-foreground\">\n              Enter the 6-digit code sent to your email\n            </p>\n          </div>\n\n          <Button\n            type=\"submit\"\n            className=\"w-full\"\n            disabled={isLoading || code.length !== 6 || isVerified}\n          >\n            {isVerified \n              ? '‚úÖ Verified! Creating account...'\n              : isLoading \n                ? 'Verifying...' \n                : 'Verify Email'\n            }\n          </Button>\n        </form>\n\n        <div className=\"text-center space-y-4\">\n          <div className=\"text-sm text-muted-foreground\">\n            Didn&apos;t receive the code?\n          </div>\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={handleResendCode}\n            disabled={isResending || resendCooldown > 0}\n            className=\"w-full\"\n          >\n            {isResending \n              ? 'Sending...' \n              : resendCooldown > 0 \n                ? `Resend in ${resendCooldown}s`\n                : 'Resend Code'\n            }\n          </Button>\n        </div>\n\n        <div className=\"text-center\">\n          <button\n            type=\"button\"\n            className=\"text-sm text-muted-foreground hover:text-foreground underline\"\n            onClick={() => router.push('/login')}\n          >\n            Back to Login\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}